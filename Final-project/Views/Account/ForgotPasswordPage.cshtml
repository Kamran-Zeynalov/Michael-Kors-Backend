@using Final_project.Models;
@{
    ViewData["Title"] = "Forgot Password";
}

@if (TempData["ForgotPassword"] != null)
{
    <div id="reset" style="display:none">@TempData["ForgotPassword"]</div>
}

@model AccountViewModel

<section id="Reset-Password">
    <div class="container">
        <div class="reset-container">
            <h3>
                Enter email address
            </h3>
            <div class="request-password-body">
                <div class="exclamation">!</div>
                <div class="content">
                    <p>
                        We’ve upgraded our website! To log in to the new site, you’ll need to reset your password. Enter your
                        email address below to receive an email with instructions on how to reset your password.
                    </p>
                    <h6>Your secure password must:</h6>
                    <ul>
                        <li>Contain 8 – 20 characters</li>
                        <li>Have at least one number</li>
                        <li>Have uppercase and lowercase characters</li>
                        <li>Have at least one special character</li>
                    </ul>
                </div>

            </div>
            <form class="password" method="post" asp-controller="Account" asp-action="ForgotPassword">
                <div asp-validation-summary="ModelOnly" class="text-danger" style="color:lawngreen"></div>
                <div class="form-group">
                    <label asp-for="User.Email" class="form-control-label" for="EmailAddress">Email Address*</label>
                    <span class="required">*Required</span>
                    <input asp-for="User.Email" type="email" class="form-control" id="emailAddress">
                </div>
                <button class="send-email" type="submit">SEND ME AN EMAIL</button>
                <button class="send-email mt-2" type="button"><a style="text-decoration:none; color:white" asp-controller="Home" asp-action="Index">Home Page</a></button>
            </form>
        </div>
    </div>
</section>

@section Scripts {
    <script>
        document.addEventListener("DOMContentLoaded", function () {
            const data = document.getElementById("reset")
            if (data != null) {
                const Toast = Swal.mixin({
                    toast: true,
                    position: "top-end",
                    showConfirmButton: false,
                    timer: 6000,
                    timerProgressBar: true,
                    didOpen: (toast) => {
                        toast.onmouseenter = Swal.stopTimer;
                        toast.onmouseleave = Swal.resumeTimer;
                    }
                });
                Toast.fire({
                    icon: "success",
                    title: "Please, Check your E-mail"
                });

            }
        });
    </script>
}